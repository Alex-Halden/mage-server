<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MapPanel Tutorial &mdash; GeoExt v1.1</title>
    <link rel="stylesheet" href="../_static/geoext.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="GeoExt v1.1" href="../index.html" />
    <link rel="up" title="Tutorials" href="index.html" />
    <link rel="next" title="Layer Tree Tutorial" href="layertree-tutorial.html" />
    <link rel="prev" title="GeoExt QuickStart" href="quickstart.html" />
    
    
    
    
    

  </head>
  <body>
    <div cl***REMOVED***="header">
        <div cl***REMOVED***="wrap">
            <h1 id="logo"><a href="../index.html">GeoExt</a></h1>
            <ul id="top-nav">
                <li cl***REMOVED***="first"><a href="../docs.html">Documentation</a></li>
                <li><a href="../examples.html">Examples</a></li>
                <li><a href="../downloads.html">Download</a></li>
                <li><a href="http://trac.geoext.org/">Development</a></li>
            </ul>
            <div id="searchbox">
                <form cl***REMOVED***="search" action="../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div>
        </div>
    </div>

    <div cl***REMOVED***="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../index.html">GeoExt</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Tutorials</a> &raquo;</li>
        <li><a href="#"><tt cl***REMOVED***="docutils literal docutils literal"><span cl***REMOVED***="pre">MapPanel</span></tt> Tutorial</a></li>
      </ul>
    </div>

      <div cl***REMOVED***="sphinxsidebar">
        <div cl***REMOVED***="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a cl***REMOVED***="reference external" href="#"><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">MapPanel</span></tt> Tutorial</a><ul>
<li><a cl***REMOVED***="reference external" href="#a-basic-mappanel">A Basic MapPanel</a></li>
<li><a cl***REMOVED***="reference external" href="#working-with-the-mappanel">Working with the MapPanel</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p cl***REMOVED***="topless"><a href="quickstart.html"
                                  title="previous chapter">GeoExt QuickStart</a></p>
            <h4>Next topic</h4>
            <p cl***REMOVED***="topless"><a href="layertree-tutorial.html"
                                  title="next chapter">Layer Tree Tutorial</a></p>
        </div>
      </div>


    <div cl***REMOVED***="document">
      <div cl***REMOVED***="documentwrapper">
        <div cl***REMOVED***="bodywrapper">
          <div cl***REMOVED***="body">
            
  <div cl***REMOVED***="section" id="mappanel-tutorial">
<h1><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">MapPanel</span></tt> Tutorial<a cl***REMOVED***="headerlink" href="#mappanel-tutorial" title="Permalink to this headline">¶</a></h1>
<p>The <a title="GeoExt.MapPanel" cl***REMOVED***="reference external" href="../lib/GeoExt/widgets/MapPanel.html#GeoExt.MapPanel"><tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">GeoExt.MapPanel</span></tt></a> is the heart of most GeoExt applications,
displaying rendered data. Leveraging the OpenLayers JavaScript mapping library,
it can display rendered tiles from OWS ***REMOVED***s, perform client-side rendering
in the browser, and use tiles from popular mapping ***REMOVED***s such as Google Maps
or Virtual Earth. In this tutorial, we explore ways that developers can
customize the MapPanel.</p>
<div cl***REMOVED***="admonition note">
<p cl***REMOVED***="first admonition-title">Note</p>
<p cl***REMOVED***="last">It is recommended that you follow the <a cl***REMOVED***="reference external" href="quickstart.html"><em>GeoExt QuickStart</em></a> tutorial
before moving on to this one. It really is quick; we&#8217;ll wait for you.</p>
</div>
<div cl***REMOVED***="section" id="a-basic-mappanel">
<h2>A Basic MapPanel<a cl***REMOVED***="headerlink" href="#a-basic-mappanel" title="Permalink to this headline">¶</a></h2>
<p>Taking a look at the example code from the quickstart tutorial, we can see a
very basic map configuration:</p>
<div cl***REMOVED***="highlight-javascript"><table cl***REMOVED***="highlighttable"><tr><td cl***REMOVED***="linenos"><div cl***REMOVED***="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td cl***REMOVED***="code"><div cl***REMOVED***="highlight"><pre><span cl***REMOVED***="kd">var</span> <span cl***REMOVED***="nx">map</span> <span cl***REMOVED***="o">=</span> <span cl***REMOVED***="k">new</span> <span cl***REMOVED***="nx">OpenLayers</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">Map</span><span cl***REMOVED***="p">();</span>
<span cl***REMOVED***="kd">var</span> <span cl***REMOVED***="nx">layer</span> <span cl***REMOVED***="o">=</span> <span cl***REMOVED***="k">new</span> <span cl***REMOVED***="nx">OpenLayers</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">Layer</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">WMS</span><span cl***REMOVED***="p">(</span>
    <span cl***REMOVED***="s2">&quot;Global Imagery&quot;</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="s2">&quot;http://maps.opengeo.org/geowebcache/***REMOVED***/wms&quot;</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="p">{</span><span cl***REMOVED***="nx">layers</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s2">&quot;bluemarble&quot;</span><span cl***REMOVED***="p">}</span>
<span cl***REMOVED***="p">);</span>
<span cl***REMOVED***="nx">map</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">addLayer</span><span cl***REMOVED***="p">(</span><span cl***REMOVED***="nx">layer</span><span cl***REMOVED***="p">);</span>

<span cl***REMOVED***="kd">var</span> <span cl***REMOVED***="nx">mapPanel</span> <span cl***REMOVED***="o">=</span> <span cl***REMOVED***="k">new</span> <span cl***REMOVED***="nx">GeoExt</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">MapPanel</span><span cl***REMOVED***="p">({</span>
    <span cl***REMOVED***="nx">renderTo</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s1">&#39;gxmap&#39;</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">height</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="mi">400</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">width</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="mi">600</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">map</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="nx">map</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">title</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s1">&#39;A Simple GeoExt Map&#39;</span>
<span cl***REMOVED***="p">});</span>
</pre></div>
</td></tr></table></div>
<p>Looking at this code we can see a few things going on:</p>
<p>In <strong>line 1</strong> we instantiate an <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">OpenLayers.Map</span></tt>. This isn&#8217;t required by
the MapPanel (it will create a Map for you if none is provided) but we want to
customize our map a bit.</p>
<p>In <strong>lines 2-6</strong> we create a new <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">OpenLayers.Layer</span></tt>. This particular
layer is a WMS layer, which uses tiles from the Blue Marble layer at
<a cl***REMOVED***="reference external" href="http://maps.opengeo.org/">http://maps.opengeo.org/</a>.</p>
<p>In <strong>line 7</strong> we add our new layer to the map.</p>
<p>In <strong>lines 9-15</strong> we create a new map panel with several options:</p>
<blockquote>
<dl cl***REMOVED***="docutils">
<dt><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">renderTo</span></tt></dt>
<dd>This works the same as <tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">renderTo</span></tt> in a normal <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.Panel</span></tt>; it
can be an id string, DOM node, or <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.Element</span></tt> telling the
MapPanel where on the page it should insert itself.</dd>
<dt><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">height</span></tt>, <tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">width</span></tt></dt>
<dd>These tell the map panel how much large it should draw itself.</dd>
<dt><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">map</span></tt></dt>
<dd>This is an <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">OpenLayers.Map</span></tt> which will be used as the actual map
inside the panel.</dd>
<dt><tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">title</span></tt></dt>
<dd>This is the normal <tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">title</span></tt> property for ExtJS components. It will be
rendered nicely across the top of the panel.</dd>
</dl>
</blockquote>
</div>
<div cl***REMOVED***="section" id="working-with-the-mappanel">
<h2>Working with the MapPanel<a cl***REMOVED***="headerlink" href="#working-with-the-mappanel" title="Permalink to this headline">¶</a></h2>
<p>While using <tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">OpenLayers.Map.addLayer()</span></tt> to add layers is a convenient way to
customize the map, a hand-coded, static list of map layers is not always what we
want. In order to make manipulating the layer list more accessible to ExtJS
widgets, the MapPanel exposes a <cite>layers</cite> property which is an
<tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.data.Store</span></tt> that will automatically be updated when layers are
added, removed, changed, or reordered, with all of the Ext events that go with
it. We can use this to, for example, populate an <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.grid.GridPanel</span></tt>
with a live list of layers in the map:</p>
<div cl***REMOVED***="highlight-javascript"><div cl***REMOVED***="highlight"><pre><span cl***REMOVED***="k">new</span> <span cl***REMOVED***="nx">Ext</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">grid</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">GridPanel</span><span cl***REMOVED***="p">({</span>
    <span cl***REMOVED***="nx">renderTo</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s1">&#39;layerlist&#39;</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">height</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="mi">200</span><span cl***REMOVED***="p">,</span> <span cl***REMOVED***="nx">width</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="mi">200</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">autoScroll</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="kc">true</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">store</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="nx">mapPanel</span><span cl***REMOVED***="p">.</span><span cl***REMOVED***="nx">layers</span><span cl***REMOVED***="p">,</span>
    <span cl***REMOVED***="nx">columns</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="p">[{</span><span cl***REMOVED***="nx">name</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s1">&#39;name&#39;</span><span cl***REMOVED***="p">,</span> <span cl***REMOVED***="nx">heading</span><span cl***REMOVED***="o">:</span> <span cl***REMOVED***="s1">&#39;Name&#39;</span><span cl***REMOVED***="p">}]</span>
<span cl***REMOVED***="p">});</span>
</pre></div>
</div>
<p>In the HTML, you&#8217;ll need to add a <tt cl***REMOVED***="docutils literal"><span cl***REMOVED***="pre">div</span></tt> for the grid panel to render itself in:</p>
<div cl***REMOVED***="highlight-html"><div cl***REMOVED***="highlight"><pre><span cl***REMOVED***="nt">&lt;div</span> <span cl***REMOVED***="na">id=</span><span cl***REMOVED***="s">&#39;layerlist&#39;</span><span cl***REMOVED***="nt">&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>More information on the <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.grid.GridPanel</span></tt> is available from the <a cl***REMOVED***="reference external" href="http://dev.sencha.com/deploy/dev/docs/?cl***REMOVED***=Ext.grid.GridPanel">ExtJS
API documentation</a>.</p>
<div cl***REMOVED***="admonition note">
<p cl***REMOVED***="first admonition-title">Note</p>
<p cl***REMOVED***="last">This code is only meant as an example to demonstrate the map panel&#8217;s
integration with Ext. An <tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">Ext.tree.TreePanel</span></tt> with
<a title="GeoExt.tree.LayerNode" cl***REMOVED***="reference external" href="../lib/GeoExt/widgets/tree/LayerNode.html#GeoExt.tree.LayerNode"><tt cl***REMOVED***="xref docutils literal"><span cl***REMOVED***="pre">GeoExt.tree.LayerNode</span></tt></a>s is a a much nicer way to display the layers in
a map, with optional support for hiding/showing layers and reordering. The
TreePanel approach is discussed in the <a cl***REMOVED***="reference external" href="layertree-tutorial.html"><em>Layer Tree Tutorial</em></a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div cl***REMOVED***="clearer"></div>
    </div>
    <div cl***REMOVED***="related">
      <h3>Navigation</h3>
      <ul>
            <li cl***REMOVED***="right" style="margin-right: 10px">
              <a href="../genindex.html" title="General Index"
                 accesskey="I">index</a></li>
            <li cl***REMOVED***="right" >
              <a href="../modindex.html" title="Global Module Index"
                 accesskey="M">modules</a> |</li>
            <li cl***REMOVED***="right" >
              <a href="layertree-tutorial.html" title="Layer Tree Tutorial"
                 accesskey="N">next</a> |</li>
            <li cl***REMOVED***="right" >
              <a href="quickstart.html" title="GeoExt QuickStart"
                 accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GeoExt</a> &raquo;</li>
          <li><a href="index.html" >Tutorials</a> &raquo;</li>
        <li><a href="#"><tt cl***REMOVED***="docutils literal docutils literal"><span cl***REMOVED***="pre">MapPanel</span></tt> Tutorial</a></li>
      </ul>
    </div>

    <div cl***REMOVED***="footer">
      &copy; Copyright 2009-2010, GeoExt Community.
    </div>
  </body>
</html>