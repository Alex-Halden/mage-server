<!DOCTYPE html>
<html ng-app="sage">
<head>
	<title>SAGE - Map Portal</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.css" />
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/bootstrap-responsive.min.css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<!--[if IE 7]>
	<link rel="stylesheet" href="css/font-awesome-ie7.min.css">
	<![endif]-->
	<link rel="stylesheet" href="css/style.css"/>
	<link rel="stylesheet" href="css/map.css"/>

	<!--<script type="text/javascript" src="js/bootstrap.min.js"></script>-->
	<script type="text/javascript" src="js/lib/jquery/jquery.min.js"></script>
	<script src="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.js"></script>
	<script type="text/javascript" src="js/lib/angular/angular.js"></script>
	<script type="text/javascript" src="js/lib/angular-ui/build/angular-ui.js"></script>
	<script type="text/javascript" src="js/lib/angular-leaflet-directive.js"></script>
	<script type="text/javascript" src="js/app/***REMOVED***s.js"></script>
	<script type="text/javascript" src="js/app/MapController.js"></script>

	<link rel="apple-touch-icon" href="img/touch-icon-iphone.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="img/touch-icon-ipad.png" />
	<link rel="apple-touch-icon" sizes="114x114" href="img/touch-icon-iphone-retina.png" />
	<link rel="apple-touch-icon" sizes="144x144" href="img/touch-icon-ipad-retina.png" />
</head>
<body ng-controller="MapController">
	<div cl***REMOVED***="navbar hidden-phone">
    <div cl***REMOVED***="navbar-inner">
      <div cl***REMOVED***="container">
        <a cl***REMOVED***="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span cl***REMOVED***="icon-bar"></span>
          <span cl***REMOVED***="icon-bar"></span>
          <span cl***REMOVED***="icon-bar"></span>
        </a>
        <a cl***REMOVED***="brand" href="#">SAGE</a>
        <div cl***REMOVED***="nav-collapse collapse">
          <ul cl***REMOVED***="nav">
            <li><a href="#">API Documentation</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
  
  <!-- The map directive -->
  <leaflet marker="marker" center="center" zoom="zoom" multimarkers="multimarkers" draggable="true"></leaflet>
  
  <!-- Settings / layer picker button -->
  <button cl***REMOVED***="btn" id="settings" ng-click="openSettings()" ngm-tap="openSettings()"><i cl***REMOVED***="icon-cog icon-large sage-color"></i></button>

  <!-- Button bar -->
  <div id="button-bar">
  	<button cl***REMOVED***="btn" id="geo" ng-click="geolocate()" ngm-tap="geolocate()"><i cl***REMOVED***="icon-map-marker icon-large sage-color"></i></button>
  	<button cl***REMOVED***="btn" id="goto-address" ng-click="openGotoAddress()" ngm-tap="openGotoAddress()"><i cl***REMOVED***="icon-search icon-large sage-color"></i></button>
  	<button cl***REMOVED***="btn" id="new-observation" ng-click="newObservation()" ngm-tap="newObservation()"><i cl***REMOVED***="icon-plus icon-large sage-color"></i></button>
  	<button cl***REMOVED***="btn" id="refresh-points" ng-click="refreshPoints()" ngm-tap="refreshPoints()"><i cl***REMOVED***="icon-cloud-download icon-large sage-color"></i></button>
  	<button cl***REMOVED***="btn" id="fft-btn" ng-click="fft()" ngm-tap="fft()"><i cl***REMOVED***="icon-group icon-large sage-color"></i></button>
	</div>

	<!-- Panels -->
	<!-- Show this one on startup and make the user select a layer, there may be a better way to handle the multiple layers, but until we figure it out, make them pick one on load. -->
	<div id="layer-select-panel" cl***REMOVED***="hide">
		<h4>Select an event to begin adding observations</h4>
		<form cl***REMOVED***="form-horizontal">
		  <select ng-model="currentLayerId" ng-options="layer.id as layer.name for layer in layers"></select>
		  <span>
		  	<button cl***REMOVED***="btn" ng-click="selectLayer()" ngm-tap="saveSettings()">Ok</button>
		 	</span>
		</form>
  </div>

	<div id="settings-panel" cl***REMOVED***="hide">
		<h3>Settings</h3>
		<form cl***REMOVED***="form-horizontal">
			<div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="type">Base map</label>
		    <div cl***REMOVED***="controls">
		      <select ng-model="baseMap" ng-options="map.type for map in baseMaps"></select>
		    </div>
		  </div>
		  <h4>Event layers</h4>
		  <select ng-model="currentLayerId" ng-options="layer.id as layer.name for layer in layers"></select>
		  <span>
		  	<button cl***REMOVED***="btn btn-inverse" ng-click="closeSettings()" ngm-tap="closeSettings()">Cancel</button>
		  	<button cl***REMOVED***="btn" ng-click="saveSettings()" ngm-tap="saveSettings()">Submit</button>
		 	</span>
		</form>
  </div>

	<div id="goto-address-panel" cl***REMOVED***="hide">
		<form cl***REMOVED***="form-horizontal">
		  <div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="address">Go to Address</label>
		    <div cl***REMOVED***="controls">
		      <input ng-model="address"/>
		    </div>
		  </div>
		  <span>
		  	<button cl***REMOVED***="btn btn-inverse" ng-click="dismissGotoAddress()" ngm-tap="dismissGotoAddress()">Cancel</button>
		  	<button cl***REMOVED***="btn" ng-click="gotoAddress()" ngm-tap="gotoAddress()">Go</button>
		 	</span>
		</form>
  </div>

  <div id="observation-panel" cl***REMOVED***="hide">
		<form cl***REMOVED***="form-horizontal">
			<div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="type">Type</label>
		    <div cl***REMOVED***="controls">
		      <select ng-model="observationType" ng-options="type.title for type in observationTypes"></select>
		    </div>
		  </div>
		  <div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="level">Level</label>
		    <div cl***REMOVED***="controls">
		      <select ng-model="level" ng-options="level.color for level in levels"></select>
		    </div>
		  </div>
		  <div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="team">Team</label>
		    <div cl***REMOVED***="controls">
		      <select ng-model="team" ng-options="team.name for team in teams"></select>
		    </div>
		  </div>
		  <div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="unit">Unit</label>
		    <div cl***REMOVED***="controls">
		      <input ng-model="unit"/>
		    </div>
		  </div>
		  <div cl***REMOVED***="control-group">
		    <label cl***REMOVED***="control-label" for="unit">Description</label>
		    <div cl***REMOVED***="controls">
		      <textarea ng-model="description"></textarea>
		    </div>
		  </div>
		  <span>
		  	<button cl***REMOVED***="btn btn-inverse" ng-click="cancelObservation()" ngm-tap="cancelObservation()">Cancel</button>
		  	<button cl***REMOVED***="btn" ng-click="saveObservation()" ngm-tap="saveObservation()">Submit</button>
		 	</span>
		</form>
  </div>

  <div id="refresh-panel" cl***REMOVED***="hide">
		<i cl***REMOVED***="icon-spin icon-spinner icon-large"></i> Synchronizing
		<span>
	  	<button cl***REMOVED***="btn" ng-click="dismissRefresh()" ngm-tap="dismissRefresh()">Ok</button>
	 	</span>
  </div>

  <div id="fft-panel" cl***REMOVED***="hide">
  	<h3>Friendly Force Tracking</h3>
	  <span>
	  	<button cl***REMOVED***="btn btn-inverse" ng-click="dismissFft()" ngm-tap="dismissFft()">Cancel</button>
	  	<button cl***REMOVED***="btn" ng-click="dismissFft()" ngm-tap="dismissFft()">Go</button>
	 	</span>
  </div>
</body>
</html>
